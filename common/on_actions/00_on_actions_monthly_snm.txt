on_monthly_pulse_country = {
    on_actions = {
    	snm_power_pulse
    }
}

on_yearly_pulse_country = {
	events = {
		snm_perf.1
	}
}


snm_power_pulse = {
	effect = {
		if = {
			limit = {
				AND = {
					Not = {has_modifier = snm_smal_power}
					is_player = yes
					or = { 
						country_rank <= rank_value:minor_power
						country_rank <= rank_value:unrecognized_major_power
					}
				}
			}
			add_modifier = snm_smal_power
		} 
		else_if = {
			limit = {
				AND = {
					has_modifier = snm_smal_power
					OR = {
						country_rank >= rank_value:unrecognized_major_power
						country_rank >= rank_value:major_power
					}
				}

			}
			remove_modifier = snm_smal_power
		}
		
		if = {
			limit = {
				AND = {
					Not = {has_modifier = snm_mid_power}
					is_player = yes
					country_rank = rank_value:major_power
				}
			}
			add_modifier = snm_mid_power
		} 
		else_if = {
			limit = {
				AND = {
					has_modifier = snm_mid_power
					OR = {
						country_rank >= rank_value:great_power
					}
				}

			}
			remove_modifier = snm_mid_power
		}
	}
}